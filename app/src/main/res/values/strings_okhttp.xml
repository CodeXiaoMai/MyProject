<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="code_okhttp">
        "\n" 
            "/**\n" 
            " * Created by XiaoMai on 2017/2/5 16:37.\n" 
            " */\n" 
            "public class OKHttpActivity extends BaseActivity implements View.OnClickListener {\n" 
            "\n" 
            "    private MediaType JSON = MediaType.parse(\"application/json; charset=utf-8\");\n" 
            "\n" 
            "    private static final int GET = 1;\n" 
            "\n" 
            "    private static final int POST = 2;\n" 
            "\n" 
            "    private Button bt_okhttp_get;\n" 
            "\n" 
            "    private Button bt_okhttp_post;\n" 
            "\n" 
            "    private TextView tv_okhttp_reslut;\n" 
            "\n" 
            "    private OkHttpClient okHttpClient;\n" 
            "\n" 
            "    private Handler handler = new Handler() {\n" 
            "        @Override\n" 
            "        public void handleMessage(Message msg) {\n" 
            "            super.handleMessage(msg);\n" 
            "            switch (msg.what) {\n" 
            "                case GET:\n" 
            "                    tv_okhttp_reslut.setText(msg.obj.toString());\n" 
            "                    break;\n" 
            "                case POST:\n" 
            "                    tv_okhttp_reslut.setText(msg.obj.toString());\n" 
            "                    break;\n" 
            "            }\n" 
            "        }\n" 
            "    };\n" 
            "\n" 
            "    @Override\n" 
            "    protected void onCreate(Bundle savedInstanceState) {\n" 
            "        super.onCreate(savedInstanceState);\n" 
            "        okHttpClient = new OkHttpClient();\n" 
            "    }\n" 
            "\n" 
            "    @Override\n" 
            "    protected void initViews() {\n" 
            "        setTitle(\"OkHttp\");\n" 
            "        initCodeButton();\n" 
            "        bt_okhttp_get = (Button) findViewById(R.id.bt_okhttp_get);\n" 
            "        bt_okhttp_post = (Button) findViewById(R.id.bt_okhttp_post);\n" 
            "        tv_okhttp_reslut = (TextView) findViewById(R.id.tv_okhttp_reslut);\n" 
            "        bt_okhttp_get.setOnClickListener(this);\n" 
            "        bt_okhttp_post.setOnClickListener(this);\n" 
            "    }\n" 
            "\n" 
            "    @Override\n" 
            "    protected int getCodeResId() {\n" 
            "        return super.getCodeResId();\n" 
            "    }\n" 
            "\n" 
            "    @Override\n" 
            "    protected int getContentLayout() {\n" 
            "        return R.layout.activity_okhttp;\n" 
            "    }\n" 
            "\n" 
            "    @Override\n" 
            "    public void onClick(View v) {\n" 
            "        if (v == bt_okhttp_get) {\n" 
            "            getDataByGet();\n" 
            "        } else if (v == bt_okhttp_post) {\n" 
            "            getDataByPost();\n" 
            "        }\n" 
            "        tv_okhttp_reslut.setText(\"\");\n" 
            "    }\n" 
            "\n" 
            "    private void getDataByGet() {\n" 
            "        new Thread() {\n" 
            "            @Override\n" 
            "            public void run() {\n" 
            "                super.run();\n" 
            "                try {\n" 
            "                    String result = get(\"http://www.baidu.com\");\n" 
            "                    Message message = Message.obtain();\n" 
            "                    message.what = GET;\n" 
            "                    message.obj = result;\n" 
            "                    handler.sendMessage(message);\n" 
            "                } catch (IOException e) {\n" 
            "                    e.printStackTrace();\n" 
            "                }\n" 
            "            }\n" 
            "        }.start();\n" 
            "    }\n" 
            "\n" 
            "    private void getDataByPost() {\n" 
            "        new Thread() {\n" 
            "            @Override\n" 
            "            public void run() {\n" 
            "                super.run();\n" 
            "                try {\n" 
            "                    String result = post(\"http://app.hskaoyan.com\", \"\");\n" 
            "                    Message message = Message.obtain();\n" 
            "                    message.what = POST;\n" 
            "                    message.obj = result;\n" 
            "                    handler.sendMessage(message);\n" 
            "                } catch (IOException e) {\n" 
            "                    e.printStackTrace();\n" 
            "                }\n" 
            "            }\n" 
            "        }.start();\n" 
            "    }\n" 
            "\n" 
            "    /**\n" 
            "     * Get请求\n" 
            "     *\n" 
            "     * @param url\n" 
            "     * @return\n" 
            "     * @throws IOException\n" 
            "     */\n" 
            "    private String get(String url) throws IOException {\n" 
            "        Request request = new Request.Builder().url(url).build();\n" 
            "        Response response = okHttpClient.newCall(request).execute();\n" 
            "        return response.body().string();\n" 
            "    }\n" 
            "\n" 
            "    /**\n" 
            "     * Post请求\n" 
            "     *\n" 
            "     * @param url\n" 
            "     * @param json\n" 
            "     * @return\n" 
            "     * @throws IOException\n" 
            "     */\n" 
            "    private String post(String url, String json) throws IOException {\n" 
            "        RequestBody requestBody = RequestBody.create(JSON, json);\n" 
            "        Request request = new Request.Builder().url(url).post(requestBody).build();\n" 
            "        Response response = okHttpClient.newCall(request).execute();\n" 
            "        return response.body().string();\n" 
            "    }\n" 
            "    \n" 
            "}\n"
    </string>
</resources>